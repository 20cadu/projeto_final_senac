{% extends 'app/base.html' %}
{% load widget_tweaks %}
{% block title %}Cadastro de Produtos{% endblock %}
{% block content %}
<section>
  <h3 class="mx-4 mt-3" style="color: white">Cadastro de produtos:</h3>
  <div class="container mt-4">
    <form id="produto-form" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
      {% csrf_token %}
      <div class="mb-3">
        {{ form.nome.label_tag }}
        {{ form.nome|add_class:"form-control" }}
        <div class="invalid-feedback">Por favor, insira o nome do produto.</div>
      </div>
      <div class="mb-3">
        {{ form.descricao.label_tag }}
        {{ form.descricao|add_class:"form-control" }}
        <div class="invalid-feedback">Por favor, insira a descrição.</div>
      </div>
      <div class="mb-3">
        {{ form.preco.label_tag }}
        {{ form.preco|add_class:"form-control" }}
        <div class="invalid-feedback">Por favor, insira o preço.</div>
      </div>
      <div class="mb-3">
        {{ form.estoque.label_tag }}
        {{ form.estoque|add_class:"form-control" }}
        <div class="invalid-feedback">Por favor, informe o estoque.</div>
      </div>
      <div class="mb-3">
        {{ form.imagem.label_tag }}
        {{ form.imagem|add_class:"form-control" }}
      </div>
      <button type="submit" class="btn btn-primary">Adicionar Produto</button>
    </form>
  </div>
</section>

<script>
// Bootstrap validation example (optional)
(() => {
  'use strict'
  const forms = document.querySelectorAll('.needs-validation')
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }
      form.classList.add('was-validated')
    }, false)
  })
})()
</script>
{% endblock %}